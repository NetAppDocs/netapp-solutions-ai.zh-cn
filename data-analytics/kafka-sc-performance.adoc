---
sidebar: sidebar 
permalink: data-analytics/kafka-sc-performance.html 
keywords: data graphs, kafka throughput, s3 tiering traffic, aff a900, resource utilization 
summary: 我们在生产-消费工作负载期间使用一个AFF A900 HA 对NetApp存储控制器对五个或八个代理节点执行了分层存储测试。根据我们的测试，完成时间和性能结果随着代理节点的数量而变化，直到AFF A900资源利用率达到百分之百。  ONTAP存储控制器设置至少需要一个 HA 对。 
---
= 使用生产-消费工作负载生成器进行性能测试
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
我们在生产-消费工作负载期间使用一个AFF A900 HA 对NetApp存储控制器对五个或八个代理节点执行了分层存储测试。根据我们的测试，完成时间和性能结果随着代理节点的数量而变化，直到AFF A900资源利用率达到百分之百。  ONTAP存储控制器设置至少需要一个 HA 对。

S3 检索操作的性能随着 Confluent 代理节点的数量而线性增加。  ONTAP存储控制器在单个部署中最多支持 12 个 HA 对。

下图显示了具有五个或八个代理节点的组合 S3 分层流量。我们最大限度地提高了AFF A900单 HA 对的性能。

image:kafka-sc-009.png["该数据图显示了具有五个或八个代理节点的组合 S3 分层流量。"]

下图显示 Kafka 吞吐量约为 31.74GBps。

image:kafka-sc-010.png["该数据图显示 Kafka 吞吐量约为 31.74GBps。"]

我们还观察到ONTAP存储控制器的吞吐量类似 `perfstat`报告。

....
object_store_server:wle-mendocino-07-08:get_data:34080805907b/ s
object_store_server:wle-mendocino-07-08:put_data:484236974b/ s
....